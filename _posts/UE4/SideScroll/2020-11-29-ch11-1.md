---
title:  "UE4 Chapter 11-1. 시네마틱 : 시네마틱 영상 제작" 

categories:
  -  UE4 Lesson 1 
tags:
  - [Game Engine, UE4]

toc: true
toc_sticky: true

date: 2020-11-29
last_modified_at: 2020-11-29
---

인프런에 있는 황대희님의 **언리얼 엔진4 3D 횡스크롤 게임 만들기** 강의를 듣고 정리한 필기입니다. 😀  
**언리얼 엔진 공식 문서** <https://docs.unrealengine.com/ko/index.html>
{: .notice--warning}


## 🚖 시네마틱 영상 제작 시퀀서

- 시네마틱 영상은 **장면(Shot)**들로 구성이 되어 있다.
  - 장면을 나누는 기준은 <u>촬영하는 카메라의 위치와 각도가 변하는</u> 것을 기준으로 한다. 
- 하나의 장면은 **트랙(Track)**으로 구성이 되어 있다.


- 시퀀스 종류
  - **레벨 시퀀스**
    - 장면을 하나 하나 추가하면서 제작하는 방식
    - A Level Sequence is <u>created for each "scene"</u> of your cinematic. 
    - Each scene is set up with its content
  - **마스터 레벨 시퀀스**
    - 장면을 미리 다 만들어 놓은 다음에 제작하는 방식.
      - 마스터 레벨 시퀀스는 미리 만들어진 레벨 시퀀스들로 이루어 진다. 즉 영상들로 이루어짐.
      - 각각의 장면들을 각각의 레벨 시퀀스로 촬영한 후 이들을 최종적으로 모아 하나의 최종 영상본을 만드는 것이 마스터 레벨 시퀀스라고 보면 될 것 같다. 
    - and a Master Level Sequence is <u>created to tie all scenes together.</u> 
    - Each scene is set up with its content
    - A master sequence is just a term we use to indicate that the sequence contains other sequences. There’s isn’t any distinction in the asset itself. As an aside, since any sequence can contain another sequence, a master sequence could contain another master sequence.
  - 세번째인 마티네는 예전 버전에서 사용되던 것. 
- 시퀀스는 또 다른 시퀀스들로 구성될 수 있다.
  - 즉 여러 장면들로 완성된 영상 하나가 또 다른 영상의 구성 요소일 수 있음.

![image](https://user-images.githubusercontent.com/42318591/100532918-fc2cf580-3241-11eb-9b03-6766b22bdba5.png)

뷰포트 레이아웃을 2 개로 한다. 다른 하나를 시네마틱 영상 확인용으로 사용하기 위하여. 

![image](https://user-images.githubusercontent.com/42318591/100532926-08b14e00-3242-11eb-8a78-33830d25ae8f.png)

- 일반 게임 뷰포트로 쓰기 위한 것은 원근(Perspective)
- 시네마틱 영상 뷰포트로 쓰기 위한 것은 뷰포트 유형을 Cinematic Viewport 로 설정

<br>

## 🚖 장면 제작

### 시퀀스 만들기

![image](https://user-images.githubusercontent.com/42318591/100530827-693c8d00-323a-11eb-9040-cf017548b6e1.png)

![image](https://user-images.githubusercontent.com/42318591/100533354-c6d6d680-3246-11eb-8bda-4d7ba208fb25.png)

[시네마틱 - 레벨 시퀀스 추가] 이 방식으로 만들면 위와같이 레벨에 직접 배치가 되는 시퀀스로서 만들어진다. 

![image](https://user-images.githubusercontent.com/42318591/100533374-f554b180-3246-11eb-8b5d-4fea232a166a.png)

콘텐츠 브라우저에서 우클 - 애니메이션 - Level Sequence 이 방법으로도 만들 수 있다.

<br>

### 첫 번째 장면 찍기 (카메라 포커싱, 파일럿 모드)

> `Shot01_Boss1` 레벨 시퀀스 생성

![image](https://camo.githubusercontent.com/0c5e26bf2c0c503370863fa629ce8962d11e2133193aa1c0e6a641b444fc0501/68747470733a2f2f706f737466696c65732e707374617469632e6e65742f4d6a41794d4445784d6a6c664e7a6b672f4d4441784e6a41324e6a4d774f5459324e5449332e65446d5255486e32324c4b676541754a63305735345f7649705a434875354e39326b3647375063776e6951672e4574474f786c67366b426e4c6f382d4a6f7a33655454526b7350546443306f543463614a676e625a686d77672e4749462e736f6879756e655f616e2f312e6769663f747970653d77373733)

![image](https://user-images.githubusercontent.com/42318591/100534862-fa216180-3256-11eb-94ee-407a1faecc98.png)

- 애니메이션 만드는 방식과 비슷하다!
  - 원하는 프레임에 키 추가시 `Ctrl + G` 단축키로 원하는 프레임대에 한번에 이동할 수 있다.
- `G` 단축키로 기즈모를 제거할 수 있다. 

- 3 개의 트랙 생성
  - 1️⃣ 보스 캐릭터 Mesh (Mutant)
    - 0 프레임 시간대에 Transform 에 키를 추가한다. (시작 위치)
      - 위에 추가한 키 말고는 다른 Transform 키를 추가하지 않았으니 위치는 고정하게 된다.
  - 2️⃣ 플레이어 캐릭터 Mesh (Root_sword_and_shield_idle)
    - 0 프레임 시간대에 Transform 에 키를 추가한다. (시작 위치)
      - 위에 추가한 키 말고는 다른 Transform 키를 추가하지 않았으니 위치는 고정하게 된다.
  - 3️⃣ 카메라 액터 
    - 뷰포트 내에서 카메라 배치하고 싶은 원하는 위치로 이동한 후 시퀀서의 상단에 🎥 다섯 번째 버튼을 누르면 현재 위치에 카메라 액터를 추가할 수 있다.
    - 밑에 자세히 후술

<br>

#### 카메라 액터

##### 파일럿 모드

![image](https://camo.githubusercontent.com/0c5e26bf2c0c503370863fa629ce8962d11e2133193aa1c0e6a641b444fc0501/68747470733a2f2f706f737466696c65732e707374617469632e6e65742f4d6a41794d4445784d6a6c664e7a6b672f4d4441784e6a41324e6a4d774f5459324e5449332e65446d5255486e32324c4b676541754a63305735345f7649705a434875354e39326b3647375063776e6951672e4574474f786c67366b426e4c6f382d4a6f7a33655454526b7350546443306f543463614a676e625a686d77672e4749462e736f6879756e655f616e2f312e6769663f747970653d77373733)

왼쪽이 카메라 액터의 파일럿 모드(<u>카메라의 시점</u>). 오른쪽은 실제 게임 월드 상에서의 모습.

![image](https://user-images.githubusercontent.com/42318591/100535157-aa906500-3259-11eb-98a0-aef92a648b94.png)

카메라의 Transform 에 키 추가 같은 카메라 애니메이션을 짜는 작업은 카메라가 촬영될 화면을 생각하면서 키 구조를 짜야 한다. 그러므로 카메라가 담을 화면을 뷰포트에 띄워야 한다. **파일럿 모드랑 해당 액터에 빙의해서, 즉 해당 액터의 시점으로 바라보게 됨으로서 레벨에 쉽게 배치할 수 있도록 도와주는 기능**이다. 카메라 액터를 [우클릭 - 파일럿] 하여 해당 카메라 액터에 빙의되어 파일럿 모드를 킬 수 있다. 

![image](https://user-images.githubusercontent.com/42318591/100535208-30141500-325a-11eb-953f-9a0acaf3000f.png)

좌측 세모 버튼을 누르면 파일럿 모드를 해제할 수 있다. 

##### 카메라 포커싱

![image](https://user-images.githubusercontent.com/42318591/100535228-66ea2b00-325a-11eb-9021-0eb9801e7c4f.png)

- 0 프레임
  - 카메라 Transform
    - 0 프레임에 플레이어의 발을 찍도록 카메라의 Transform을 조정하고
  - 카메라 Manual Focus Distance 
    - 0 프레임에 플레이어의 발을 선명하게 찍을 수 있도록 카메라 액터의 디테일 패널의 Focus Setting 에서 Manual Focus Distance 을 통해 스포이드를 누르고 플레이어의 다리를 클릭하면 플레이어의 다리가 굉장히 선명해진다. 노란색 체크 부분에 위치한 키 추가 버튼을 누르면 이렇게 선명해지는 것 또한 키로서 추가할 수 있다. 
  - 이제 0 프레임땐 카메라는 플레이어의 다리에 위치하게 되며 다리를 선명하게 포커싱을 한다.  
- 90 프레임
  - 카메라가 플레이어의 뒤통수를 찍을 수 있는 위치로 Transform 값을 조정한 후 그 지점을 키로 추가한다.
    - 이제 0 ~ 90프레임 시간 동안엔 카메라가 플레이어의 다리로부터 천천히 위로 올라가는 애니메이션으로 플레이어를 찍게 될 것이다. 
- 110 프레임
  - 보스를 가운데에 담드로 카메라 액터 Transform 값을 조정하고 스포이드를 사용하여 보스에게 포커싱을 주는 키를 추가하였다. 

<br>

### 두 번째 장면 찍기

> `Shot02_Boss1` 레벨 시퀀스 생성 

- 기존 `Shot01_Boss1` 레벨 시퀀스를 복제해서 만들면 편하다. 플레이어 보스 카메라의 초기 배치가 다 키로 추가되어 있기 때문에 수정만 하면 되므로.
- 복제해 온 `Shot01_Boss1`의 카메라 액터 Track은 삭제했다. 

![image](https://camo.githubusercontent.com/12222c527decf7f8319bc10f2b1d0357b5b35e101837db3279d4074784870121/68747470733a2f2f706f737466696c65732e707374617469632e6e65742f4d6a41794d4445784d6a6c664d6a59322f4d4441784e6a41324e6a4d7a4f5463344e6a49782e512d64327951505755713259694b34487755797938775954634a705a4662434a4252545336456a5a743977672e634d5a67474471474e6c47524b546769536d7847696c6168623649784e684a3439642d7051363173634355672e4749462e736f6879756e655f616e2f322e6769663f747970653d77373733)

![image](https://user-images.githubusercontent.com/42318591/100535637-0ceb6480-325e-11eb-9b68-51dd230e0f19.png)

보스 애니메이션을 앞으로 땡겨줄 수도 있다. 그래서 원하는 프레임에 애니메이션의 원하는 장면을 재생할 수 있도록 맞춰 줌

<br>

### 마스터 레벨 시퀀스 만들기 (샷 트랙)

> `Master_Boss1` 이라는 마스터 레벨 시퀀스로 쓸 레벨 시퀀스를 만들었다. 

이제 이 마스터 레벨 시퀀스를 첫 번째 장면, 두 번째 장면이었던 `Shot01_Boss1`, `Shot02_Boss1` 레벨 시퀀스로 구성시킬 것이다.

![image](https://user-images.githubusercontent.com/42318591/100535830-a2d3bf00-325f-11eb-8f25-d49d98c057e8.png)

레벨 시퀀스들을 배치할 수 있는 `샷 트랙`을 추가한다. 

![image](https://user-images.githubusercontent.com/42318591/100536071-7e78e200-3261-11eb-8fe5-9702d9e32a97.png)

위에서 만들어 둔 레벨 시퀀스들을 배치한다.

![image](https://user-images.githubusercontent.com/42318591/100536084-89337700-3261-11eb-8ae0-d832022531a6.png)


<br>

### 세 번째 장면 찍기

![image](https://camo.githubusercontent.com/b069df6046f34399a0078dc51e072a0d0f73438b83a396f7173e6b40d3dd0e12/68747470733a2f2f706f737466696c65732e707374617469632e6e65742f4d6a41794d4445784d6a6c664f546b672f4d4441784e6a41324e6a51774e5459344f4455312e38514b4470416d55656e6a6872497838685770647461633554534c694f796733376d365475364a634f454d672e47356e59794e43525346365a506550614953312d646b326b6a6e3249673466793242327a6c755f55427338672e4749462e736f6879756e655f616e2f332e6769663f747970653d77373733)

![image](https://user-images.githubusercontent.com/42318591/100536554-d8c77200-3264-11eb-872f-62544a300e27.png)

두 번째 레벨 시퀀스를 복제하여 세 번째 레벨 시퀀스를 만들었다. 아래에 있는 두 번째 레벨 시퀀스를 복제한 후 그 길이를 늘려 하얀 네모 크기였지만, 현재 프레임을 기준으로 우클릭하면 편집 - 왼쪽 잘라내기를 할 수 있는데 이렇게 하여 세 번째 레벨 시퀀스의 왼쪽 부분을 잘라내서 위와 같은 모양으로 만들었다. <u>이렇게 해서 좋은 점은 두 번째 레벨 시퀀스가 끝나는 부분부터 만들 수 있도록 할 수 있다는 것이다.</u>

![image](https://user-images.githubusercontent.com/42318591/100536672-73c04c00-3265-11eb-9d6d-bc507e99c703.png)

- 보스가 점프하는 애니메이션을 재생시켰다 (애니메이션 - 우클 - 프로퍼티에서 재생 속도를 좀 느리게 하여 슬로우 모션으로 점프 하듯 하게 함)
- 이번엔 더 높이 멀리 뛸 수 있도록 보스의 Transform 도 변경해주고 이 변경점들을 키로 추가하였다. 

![image](https://user-images.githubusercontent.com/42318591/100537158-6d33d380-3269-11eb-8a10-3a6dbad83faf.png)



<br>

### 페이드 트랙 & 오디오 트랙 & 재생 속도 트랙

![image](https://user-images.githubusercontent.com/42318591/100537168-7de44980-3269-11eb-9989-7f918e0303b2.png)

마스터 레벨 시퀀스에 아래와 같이 3 가지 트랙을 추가해준다.

1. 페이드 트랙 : 페이드인, 페이드 아웃 키 추가 가능
2. 오디오 트랙 : 시퀀스의 배경 음악 재생 구간
3. 재생 속도 트랙 : 시퀀스 영상의 재생 속도 조절로 키 추가 가능

![image](https://user-images.githubusercontent.com/42318591/100537490-6490cc80-326c-11eb-99b9-4237a0c6c207.png)

페이드 값은 어두운게 1.0 밝은게 0.0 이다. 재생 속도의 경우 1.0은 정상 속도.

![image](https://camo.githubusercontent.com/0c2539bc954b9d9faaa7e3d15eadff317428d04ca1765ce245cd6e9bfd3330af/68747470733a2f2f706f737466696c65732e707374617469632e6e65742f4d6a41794d4445784d6a6c664d6a49352f4d4441784e6a41324e6a51774f54417a4d4463772e325a4e3441584d66714a306c78596c44315468443374624533774e3539526a5a376357776e55332d374977672e3975616a59694d554b5158464c45392d553952493759764778655453356c7a526d69663064475854475534672e4749462e736f6879756e655f616e2f342e6769663f747970653d77373733)

<br>

## 🚖 주의 할 점

시네마틱 영상은 실제 동영상 같은 것 처럼 녹화해서 저장되는 방식이 아닌 듯 하다. 찍어놓은 영상이 플레이 되는 것이 아니라 카메라 동선만 짜놓고 생방송으로 찍는 느낌인 것 같다. 영상을 플레이 하면 시네마틱 영상에 찍어놨던 것대로 실시간으로 카메라가 움직이고 영상 속 액터가 실제로 움직인다. 😥 (오버워치에서 캐릭터 고르는 장면의 카메라나 중화기병 같은 보스들 클로즈업 카메라에 플레이어 캐릭터들이 깜짝 출연할 수 있는 이유가 이 때문..) 주의하자!! 그래서 영상 내에 트랙으로 사용된 액터가 삭제되면 그 액터가 사라진 영상이 재생된다. 영상 출연용 Mesh 캐릭터를 따로 배치해 두고 영상 재생이 안되고 있을 땐 렌더링 안되게 Set Actor Hidden in Game 해두고 영상 재생이 시작 될 때 이를 해제하여 렌더링 되게 한다. 그리고 영상 재생이 다 끝나면 다시 Hidden 시키거나 출연용 Mesh 캐릭터들은 Destroy 시키거나 하는 식으로 구현하면 될 것 같다. 

***
<br>

    🌜 개인 공부 기록용 블로그입니다. 오류나 틀린 부분이 있을 경우 
    언제든지 댓글 혹은 메일로 지적해주시면 감사하겠습니다! 😄

[맨 위로 이동하기](#){: .btn .btn--primary }{: .align-right}