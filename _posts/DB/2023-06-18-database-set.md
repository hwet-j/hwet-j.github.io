---
title:  "[DB/OracleDB] μ§‘ν•©"  
excerpt: "JOIN, μ§‘ν•©"

categories: # λ¶„λ¥ν•κ³ μ‹¶μ€ μΉ΄ν…κ³ λ¦¬ μ…λ ¥
  - DataBase
tags:     # μ¤‘μ” ν‚¤μ›λ“
  - [OracleDB]

toc: true
toc_sticky: true
published: true

date: 2023-06-18
last_modified_at: 2023-06-18
---


μΈν„°λ„·μ—μ„ κ²€μƒ‰ν•μ—¬ μ—¬λ¬κ°€μ§€λ¥Ό μ°Έκ³ ν•μ—¬ μ •λ¦¬ν•μ€μµλ‹λ‹¤.    
[μ°Έκ³ 1](https://pearlluck.tistory.com/46)
{: .notice--warning}

## μ§‘ν•©

### ν•©μ§‘ν•©(UNION)

λ‘ κ° μ΄μƒμ μ§‘ν•©μ„ ν•©μ³¤μ„ λ•μ κ²°κ³Όλ΅, ν•©μ³μ§„ λ¨λ“  μ›μ†λ¥Ό ν¬ν•¨ν•λ” μƒλ΅μ΄ μ§‘ν•©μ„ μƒμ„±ν•©λ‹λ‹¤. 

μ¤λΌν΄ DBμ—μ„ ν™μ§‘ν•©κ³Ό κ΄€λ ¨λ ν•¨μλ” UNION, UNION ALL μ΄ μλ‹¤. 

`UNION μ—°μ‚°μ€ λ‘ κ° μ΄μƒμ μΏΌλ¦¬ κ²°κ³Όλ‚ ν…μ΄λΈ”μ„ ν•©μ³μ„ μ¤‘λ³µμ„ μ κ±°ν• κ²°κ³Ό`λ¥Ό λ°ν™ν•©λ‹λ‹¤. μ¤‘λ³µλ ν–‰μ€ ν• λ²λ§ ν¬ν•¨λ©λ‹λ‹¤. μ¦‰, μ¤‘λ³µλ κ²°κ³Όλ” μ κ±°λκ³  μ μΌν• κ°’λ§ λ°ν™λ©λ‹λ‹¤. 

`UNION ALL μ—°μ‚°μ€ λ‘ κ° μ΄μƒμ μΏΌλ¦¬ κ²°κ³Όλ‚ ν…μ΄λΈ”μ„ ν•©μ³μ„ μ¤‘λ³µμ„ μ κ±°ν•μ§€ μ•κ³  λ¨λ“  κ²°κ³Ό`λ¥Ό λ°ν™ν•©λ‹λ‹¤. μ¤‘λ³µλ ν–‰λ„ λ¨λ‘ ν¬ν•¨λ©λ‹λ‹¤.

> UNION 

```sql 
-- 1. emp ν…μ΄λΈ”μ—μ„ jobμ΄ MANAGERμΈ λ°μ΄ν„°
SELECT empno 
FROM emp
WHERE job = 'MANAGER';

-- 2. emp ν…μ΄λΈ”μ—μ„ salμ΄ 2500μ΄μƒμΈ λ°μ΄ν„°
SELECT empno
FROM emp
WHERE sal >= 2500;

-- 3. λ‘ ν…μ΄λΈ”μ„ UNION 
SELECT empno 
FROM emp
WHERE job = 'MANAGER'
UNION
SELECT empno
FROM emp
WHERE sal >= 2500;
```

κ²°κ³Όλ¥Ό μ‰½κ² ν™•μΈν•κΈ° μ„ν•΄ empno ν•λ‚μ μ»¬λΌλ§ μ‚¬μ©ν•μ—¬ λΉ„κµν•λ©΄ 

1λ²μ€ 7566, 7698, 7782 μ΄ λ‚μ¤κ³ , 2λ²μ€ 7566, 7698, 7839, 7902 μ΄ λ‚μ¨λ‹¤. 

λ‘ κ²°κ³Όλ¥Ό UNIONμ„ ν†µν•μ—¬ ν•©μ³μ¤€ 3λ²μ€ 7566, 7698, 7782, 7839, 7902 κ°€ λ‚μ¤λ”λ° 1,2λ²μ μ¤‘λ³µκ°’ 7566, 7698μ€ ν• λ²μ”©λ§ μ¶λ ¥λλ” κ²ƒμ„ ν™•μΈν•  μμλ‹¤.

> UNION ALL 

```sql 
-- 4. λ‘ ν…μ΄λΈ”μ„ UNION ALL 
SELECT empno 
FROM emp
WHERE job = 'MANAGER'
UNION ALL
SELECT empno
FROM emp
WHERE sal >= 2500;
```

4λ²μ κ²°κ³Όλ” UNION ALL ν†µν•μ—¬ ν•©μ³μ£Όλ” μΏΌλ¦¬λ¬Έμ΄λ©° κ²°κ³Όλ” 7566, 7698, 7782, 7566, 7698, 7839, 7902 κ°€ μ¶λ ¥λλ©° μ¤‘λ³µλ κ°’μ„ μ κ±°ν•μ§€ μ•κ³  λ¨λ“  κ²°κ³Όλ¥Ό λ°ν™ν•©λ‹λ‹¤.

### κµμ§‘ν•©(INTERSECTION)

λ‘ κ° μ΄μƒμ μ§‘ν•©μ—μ„ λ™μ‹μ— ν¬ν•¨λλ” λ¨λ“  μ›μ†λ΅ μ΄λ£¨μ–΄μ§„ μƒλ΅μ΄ μ§‘ν•©μ„ μƒμ„±ν•©λ‹λ‹¤.

`INTERSECT ν‚¤μ›λ“λ¥Ό μ‚¬μ©`ν•΄μ„ κµ¬ν•  μ μλ‹¤. 

```sql 
-- 5. λ‘ ν…μ΄λΈ”μ„ UNION ALL 
SELECT empno 
FROM emp
WHERE job = 'MANAGER'
INTERSECT
SELECT empno
FROM emp
WHERE sal >= 2500;
```

5λ²μ κ²°κ³Όλ” 7566, 7698 μ΄ λ‚μ¤λ©°, 1λ²κ³Ό 2λ²μ μ¤‘λ³µλλ” κ°’λ§ μ¶λ ¥ν•λ‹¤. 


### μ°¨μ§‘ν•©(DIFFERENCE)

ν•λ‚μ μ§‘ν•©μ—μ„ λ‹¤λ¥Έ μ§‘ν•©μ— μ†ν•μ§€ μ•λ” μ›μ†λ“¤λ΅ μ΄λ£¨μ–΄μ§„ μƒλ΅μ΄ μ§‘ν•©μ„ μƒμ„±ν•©λ‹λ‹¤.

`MINUS ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ°¨μ§‘ν•©μ„ κµ¬ν•  μ μμΌλ©°, μ°¨μ§‘ν•©μ€ κΈ°μ¤€μ΄ μ¤‘μ”`ν•λ‹¤. 

```sql 
-- 6. λ‘ ν…μ΄λΈ”μ„ MINUS ( 2 - 1 ) 
SELECT empno
FROM emp
WHERE sal >= 2500
MINUS
SELECT empno 
FROM emp
WHERE job = 'MANAGER';

-- 7. λ‘ ν…μ΄λΈ”μ„ MINUS ( 1 - 2 ) 
SELECT empno 
FROM emp
WHERE job = 'MANAGER'
MINUS
SELECT empno
FROM emp
WHERE sal >= 2500;
```

6λ²μ€ 7566, 7698, 7839, 7902μ—μ„ κ³µν†µκ²°κ³ΌμΈ 7566, 7698μ„ μ μ™Έν• 7839, 7902 κ°€ μ¶λ ¥λκ³ ,

7λ²μ€ 7566, 7698, 7782μ—μ„ κ³µν†µκ²°κ³ΌμΈ 7566, 7698μ„ μ μ™Έν• 7782 κ°€ μ¶λ ¥λλ‹¤.

μ°¨μ§‘ν•©μ„ μ‚¬μ©ν•  λ•, κΈ°μ¤€μ„ μ μƒκ°ν•κ³  μ‚¬μ©ν•΄μ•Ό ν•λ‹¤. 



***
<br>
    
    π“Ά κ°μΈ κ³µλ¶€ λ° μ •λ¦¬μ© λΈ”λ΅κ·Έλ΅, ν‹€λ¦¬κ±°λ‚ μ£Όκ΄€μ μΈ μκ²¬μ΄ λ“¤μ–΄κ° μ μμµλ‹λ‹¤.
    μλ»λ λ¶€λ¶„μ΄ μλ‹¤λ©΄, μ–Έμ λ“ μ§€ λ“κΈ€μ΄λ‚ λ©”μΌλ΅ μ•λ ¤μ£Όμ‹λ©΄ μ°Έκ³ ν•κ² μµλ‹λ‹¤. π§

[λ§¨ μ„λ΅ μ΄λ™ν•κΈ°](#){: .btn .btn--primary }{: .align-right}